<!DOCTYPE html>
<!--
http://cwbuecheler.com/web/tutorials/2013/javascript-callbacks/
CREATING OUR OWN CALLBACKS

Note: Using the setTimeout method to simulate waiting for a system or server 
response. In a way setTimeout is a system response.
-->
<html>
<head>
    <title>SelfEd - Callback Functions - callback_Exp0</title>
    <link rel="SHORTCUT ICON" href="http://www.tarptiedown.com/ttd-website/ttd-website-pics-videos/instruction-images/teacherIcon.png">  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <p id="output"></p>

<script>
    
    // Call our main function. Pass it a URI and a callback function
    getData('http://fakedomain1234.com/userlist', writeData);

    // Write some stuff to the p tag
    document.getElementById('output').innerHTML += 'show this before data ...';

    // Define our main function
    function getData(dataURI, callback) {

        // Normally you would actually connect to a server here.
        // We're just going to simulate a 3-second delay.
        var timer = setTimeout(function () {

            // Here's some data which we're pretending came from dataURI
            var dataArray = [123, 456, 789, 012, 345, 678];

            // run our callback function which is the writeData function which was passed into this function
            callback(dataArray);

        }, 3000);
    }

    function writeData(myData) {
        document.getElementById('output').innerHTML += myData;
    }

</script>


</body>
</html>
